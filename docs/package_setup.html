

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Project Setup &mdash; ResearchHelper 0.1.2 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="researchhelper.visualize package" href="researchhelper.visualize.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> ResearchHelper
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="summary.html">Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">researchhelper</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Project Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setup-of-the-project">1 Setup of the project</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">1.1 pyment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">1.2 sphinx</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installation">1.2.1 Installation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#org-mode-and-emacs">1.3 Org-mode and emacs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">1.4 poetry</a></li>
<li class="toctree-l3"><a class="reference internal" href="#github-pages">1.5 Github pages</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ResearchHelper</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Project Setup</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/package_setup.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="project-setup">
<h1><a class="toc-backref" href="#id5">Project Setup</a><a class="headerlink" href="#project-setup" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">Author</dt>
<dd class="field-odd"><p>Bas Chatel</p>
</dd>
</dl>
</div></blockquote>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#project-setup" id="id5">Project Setup</a></p>
<ul>
<li><p><a class="reference internal" href="#setup-of-the-project" id="id6">1 Setup of the project</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id7">1.1 pyment</a></p></li>
<li><p><a class="reference internal" href="#id3" id="id8">1.2 sphinx</a></p>
<ul>
<li><p><a class="reference internal" href="#installation" id="id9">1.2.1 Installation</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#org-mode-and-emacs" id="id10">1.3 Org-mode and emacs</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id11">1.4 poetry</a></p></li>
<li><p><a class="reference internal" href="#github-pages" id="id12">1.5 Github pages</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="setup-of-the-project">
<h2><a class="toc-backref" href="#id6">1 Setup of the project</a><a class="headerlink" href="#setup-of-the-project" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This part is not about the project but about how the documentation workflow is set up. I intend to keep this up-to-date as a reminder and basically just add it to every project that I set up in this way.</p>
</div>
<div class="section" id="id1">
<h3>1.1 <a class="reference external" href="https://github.com/dadadel/pyment">pyment</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>So in terms of writing documentation, I think everybody can agree that it just takes a lot of work to do correctly. That is why there is a neat little python package called <a class="reference external" href="https://github.com/dadadel/pyment">pyment</a> which can auto-document functions and even rewrite documentation from one style to another.</p>
<p>For example, when I’m programming, I tend to work a bit messy, using different documenting styles or forgetting to document a function etc. This leads to, even though still readable(!), somewhat messy code. By calling pyment as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pyment -o numpydoc -w .
</pre></div>
</div>
<p>Pyment overwrites all documentation (because of the <code class="docutils literal notranslate"><span class="pre">-w</span></code> flag), and creates new docstrings where they weren’t in the current folder (because of the dot at the end). It even does this recursively! So folders within folders will also be changed. You can choose an output style by using the <code class="docutils literal notranslate"><span class="pre">-o</span></code> flag. I really like the <a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html">numpy documenting style</a>, so therefore I choose to use the <code class="docutils literal notranslate"><span class="pre">numpydoc</span></code> option.</p>
</div>
<div class="section" id="id3">
<h3>1.2 <a class="reference external" href="https://www.sphinx-doc.org/en/master/">sphinx</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Sphinx is where the magic happens regarding the documentation (what you’re reading now). It autogenerates a static website from your documentation, with some possibility to extend. There are a few steps that are useful to know when to start with this:</p>
<div class="section" id="installation">
<h4><a class="toc-backref" href="#id9">1.2.1 Installation</a><a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h4>
<p>First of all, the installation process is quite easy:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install sphinx
</pre></div>
</div>
<p>Then you make your package directory and create a <code class="docutils literal notranslate"><span class="pre">docs</span></code> folder in it, and a <code class="docutils literal notranslate"><span class="pre">sphinx</span></code> folder. Note that the name of the <code class="docutils literal notranslate"><span class="pre">sphinx</span></code> folder doesn’t matter, but the name <code class="docutils literal notranslate"><span class="pre">docs</span></code> is needed to host it on GitHub pages later. So you go to the root of your project and basically put in the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir sphinx
mkdir docs
<span class="nb">cd</span> sphinx/
sphinx-quickstart
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">sphinx-quickstart</span></code> command will ask some questions seen below. The defaults are fine, but I would suggest answering <code class="docutils literal notranslate"><span class="pre">yes</span></code> on the first question to separate source and build. This is so that there is a clear distinction between what <strong>you’re</strong> writing (source) and what is automatically generated by sphinx (build).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Welcome to the Sphinx <span class="m">3</span>.5.4 quickstart utility.

Please enter values <span class="k">for</span> the following settings <span class="o">(</span>just press Enter to
accept a default value <span class="k">if</span> one is given in brackets<span class="o">)</span>.

Selected root path: .

You have two options <span class="k">for</span> placing the build directory <span class="k">for</span> Sphinx output.
Either, you use a directory <span class="s2">&quot;_build&quot;</span> within the root path, or you separate
<span class="s2">&quot;source&quot;</span> and <span class="s2">&quot;build&quot;</span> directories within the root path.
&gt; Separate <span class="nb">source</span> and build directories <span class="o">(</span>y/n<span class="o">)</span> <span class="o">[</span>n<span class="o">]</span>: y

The project name will occur in several places in the built documentation.
&gt; Project name: MyProject
&gt; Author name<span class="o">(</span>s<span class="o">)</span>: Bas Chatel
&gt; Project release <span class="o">[]</span>: <span class="m">0</span>.0.1

If the documents are to be written in a language other than English,
you can <span class="k">select</span> a language here by its language code. Sphinx will <span class="k">then</span>
translate text that it generates into that language.

For a list of supported codes, see
https://www.sphinx-doc.org/en/master/usage/configuration.html#confval-language.
&gt; Project language <span class="o">[</span>en<span class="o">]</span>: en

Creating file /Users/chatel/github/researchhelper/sphinx/source/conf.py.
Creating file /Users/chatel/github/researchhelper/sphinx/source/index.rst.
Creating file /Users/chatel/github/researchhelper/sphinx/Makefile.
Creating file /Users/chatel/github/researchhelper/sphinx/make.bat.

Finished: An initial directory structure has been created.

You should now populate your master file /Users/chatel/github/lonelinessABM/source/index.rst and create other documentation
<span class="nb">source</span> files. Use the Makefile to build the docs, like so:
   make builder
where <span class="s2">&quot;builder&quot;</span> is one of the supported builders, e.g. html, latex or linkcheck.
</pre></div>
</div>
<p>You see that the quickstart made some files for me automatically. make.bat is quite important here together with the Makefile. These files allow you the commands (among others) <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">clean</span></code> and <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">html</span></code>. The first command cleans out the entire build folder, so we can start fresh and recreate everything. And <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">html</span></code> generated the whole website.</p>
<p><code class="docutils literal notranslate"><span class="pre">index.rst</span></code> is responsible for the first visible page and provides a table of contents that will cause the site to be populated. <code class="docutils literal notranslate"><span class="pre">conf.py</span></code> is for sphinx configuration. I suggest changing these lines so that sphinx recognizes NumPy documentation style and provides auto-documentation of your code.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;sphinx.ext.autodoc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sphinx.ext.napoleon&quot;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You do have to download these extensions yourself through pip install first!</p>
</div>
<p>For a more extensive explanation of how to go about setting things up, I would recommend <a class="reference external" href="https://samnicholls.net/2016/06/15/how-to-sphinx-readthedocs/">this blogpost</a>. I think the most important part is the auto-doc feature which can be called through the following command from the root directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sphinx-apidoc -f -o sphinx/source researchhelper
</pre></div>
</div>
<p>Where researchhelper is the name of the package. Meaning that all actual python code is in that folder.</p>
</div>
</div>
<div class="section" id="org-mode-and-emacs">
<h3>1.3 <a class="reference external" href="https://orgmode.org/">Org-mode</a> and <a class="reference external" href="https://www.gnu.org/software/emacs/">emacs</a><a class="headerlink" href="#org-mode-and-emacs" title="Permalink to this headline">¶</a></h3>
<p>I use emacs, and I love everything that has to do with org-mode. It’s kind of like a markup language like <a class="reference external" href="https://www.markdownguide.org/">markdown</a> of <a class="reference external" href="https://www.writethedocs.org/guide/writing/reStructuredText/">reStructuredText</a> (rst), but then on steroids. My only issue is that sphinx uses .rst files to populate its documentation. But, naturally, the amazing emacs community has an answer for that!</p>
<p>By using the <a class="reference external" href="https://github.com/msnoigrs/ox-rst">ox-rst package</a>, we can simply export .org files into the .rst format. That way, I can write things just like I like it while still being compliant with the formatting that sphinx requires.</p>
</div>
<div class="section" id="id4">
<h3>1.4 <a class="reference external" href="https://python-poetry.org/">poetry</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://python-poetry.org/">Python poetry</a> is a package that aims to make python package and dependency management easy, and they succeed in that aim! By using Poetry, it’s super easy to make your self-made python module available for a simple pip install. So if you’re interested in this, definitely check it out!</p>
</div>
<div class="section" id="github-pages">
<h3><a class="toc-backref" href="#id12">1.5 Github pages</a><a class="headerlink" href="#github-pages" title="Permalink to this headline">¶</a></h3>
<p>Separating source from build in the sphinx setup also allows us to copy the build files to the docs folder more easily. This is important because GitHub pages want a given folder as the website root. And the only two choices at the moment are <code class="docutils literal notranslate"><span class="pre">/</span></code> (the root) or the <code class="docutils literal notranslate"><span class="pre">/docs</span></code> folder. I just copy the entire HTML folder inside the build folder to <code class="docutils literal notranslate"><span class="pre">docs</span></code>. I’ve made a tiny and super easy shortcut for that in my <code class="docutils literal notranslate"><span class="pre">~/.zshrc</span></code> file (or you can put it in your <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> file.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="k">function</span> sphinxPush<span class="o">()</span> <span class="o">{</span>
    cp -r ./build/html/* ../docs
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="researchhelper.visualize.html" class="btn btn-neutral float-left" title="researchhelper.visualize package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Bas Chatel.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>